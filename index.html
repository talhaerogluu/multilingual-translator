<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Developer Guide - Multilingual Translator</title>
  <script type="module" src="./main.js?v=17"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
    header { display: flex; justify-content: space-between; align-items: center; }
    select { padding: 4px; font-size: 14px; }
    .section { margin-top: 40px; }
    .highlight { background: #f4f4f4; padding: 15px; border-left: 3px solid #007bff; }
    code { background: #eee; padding: 2px 5px; border-radius: 3px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    table, th, td { border: 1px solid #ddd; }
    th, td { padding: 8px; text-align: left; }
    th { background: #f9f9f9; }
  </style>
</head>
<body>
  <header>
    <h1 data-translate="true">Multilingual Translator - Developer Documentation</h1>
    <select id="languageSelect"></select>
  </header>

  <section class="section">
    <h2 data-translate="true">Introduction</h2>
    <p lazy-translate="true">
      This documentation explains how to use the Multilingual Translator project in real-world applications.
      The tool is designed for developers who want to add instant translation capabilities to their static or
      dynamic websites. It combines a FastAPI backend with a JavaScript frontend that leverages Web Workers,
      caching, and asynchronous requests for optimal performance. 
      With this approach, developers can internationalize applications without rewriting their frontend logic.
    </p>
  </section>

  <section class="section">
    <h2 data-translate="true">Getting Started</h2>
    <ol>
      <li data-translate="true">Clone the repository from GitHub.</li>
      <li data-translate="true">Install dependencies with pip.</li>
      <li data-translate="true">Add your Google API key to the .env file.</li>
      <li data-translate="true">Run <code>uvicorn main:app --reload</code> to start the server.</li>
    </ol>
  </section>

  <section class="section">
    <h2 data-translate="true">Architecture Overview</h2>
    <div lazy-translate="true" class="highlight">
      The architecture is composed of two main layers: 
      the backend API built with FastAPI, and the frontend JavaScript code. 
      The backend exposes a single endpoint <code>/translate</code>, 
      which proxies requests to the Google Translate API, applies caching, and returns translated text. 
      The frontend scans the DOM for elements with <code>data-translate</code> attributes, 
      batches them, and dispatches translation requests through a Web Worker.
      This ensures that translations do not block the main UI thread and that long texts are processed in parallel.
    </div>
  </section>

  <section class="section">
    <h2 data-translate="true">Code Example</h2>
    <pre class="highlight" lazy-translate="true">
      <code>
      from fastapi import FastAPI
      import httpx, os

      app = FastAPI()

      @app.post("/translate")
      async def translate_text(req: dict):
          text = req["text"]
          target = req["target"]
          async with httpx.AsyncClient() as client:
              res = await client.post(
                  "https://translation.googleapis.com/language/translate/v2",
                  params={"key": os.getenv("GOOGLE_API_KEY")},
                  json={"q": text, "target": target}
              )
              return res.json()
      </code>
    </pre>
  </section>

  <section class="section">
    <h2 data-translate="true">Supported Attributes</h2>
    <table>
      <tr>
        <th data-translate="true">Attribute</th>
        <th data-translate="true">Description</th>
      </tr>
      <tr>
        <td><code>data-translate="true"</code></td>
        <td data-translate="true">Marks short text for immediate translation.</td>
      </tr>
      <tr>
        <td><code>lazy-translate="true"</code></td>
        <td data-translate="true">Marks long text to be translated in chunks.</td>
      </tr>
    </table>
  </section>

  <section class="section">
    <h2 data-translate="true">Best Practices</h2>
    <ul>
      <li data-translate="true">Use caching to reduce API costs.</li>
      <li data-translate="true">Do not block the UI thread with synchronous requests.</li>
      <li data-translate="true">Leverage Web Workers for long translations.</li>
      <li data-translate="true">Always validate input and sanitize output.</li>
    </ul>
  </section>

  <section class="section">
    <h2 data-translate="true">Extended Example</h2>
    <p lazy-translate="true">
      Imagine a large knowledge base platform where thousands of articles need to be accessible in multiple languages.
      Instead of pre-translating all content manually, you can apply this tool to automatically translate articles
      on demand. This reduces storage costs and ensures that translations are always up to date with the original content.
      Furthermore, since the system caches previous translations, frequently accessed articles are instantly served from cache.
      This approach scales effectively and supports real-time user-driven translation requests, which is a major advantage for
      community-driven platforms, e-learning portals, and technical documentation sites.
    </p>
  </section>

  <footer class="section">
    <p data-translate="true">Created by Talha EroÄŸlu - 2025</p>
  </footer>
</body>
</html>